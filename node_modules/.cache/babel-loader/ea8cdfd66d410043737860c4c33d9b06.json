{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useReducer, useEffect } from \"react\";\nimport './App.css';\n\nconst updateLS = (items, hours) => {\n  localStorage.setItem(\"item\", JSON.stringify(items));\n  localStorage.setItem(\"hours\", JSON.stringify(hours));\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET\":\n      {\n        return { ...state,\n          ...action.state\n        };\n      }\n\n    case \"ADD\":\n      {\n        const {\n          items,\n          totHours\n        } = { ...state\n        };\n        const {\n          item\n        } = action;\n        const newItem = [...items, item];\n        const newHours = totHours + parseInt(item.time_spent);\n        updateLS(newItem, newHours);\n        return { ...state,\n          items: newItem,\n          totHours: newHours\n        };\n      }\n\n    case \"DELETE\":\n      {\n        const {\n          items,\n          totHours\n        } = { ...state\n        };\n        const {\n          item\n        } = action;\n        const indexRemove = items.indexOf(item);\n        const newArrayItems = [...items.slice(0, indexRemove), ...item.slice(indexRemove + 1, items.length)];\n        const newHours = totHours - item.time_spent;\n        updateLS(newItem, newHours);\n        return { ...state,\n          items: newArrayItems,\n          totHours: newHours\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nconst initilizerState = {\n  item: [],\n  totHours: 0\n};\n\nconst App = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initilizerState);\n  useEffect(() => {\n    let existState = {};\n\n    if (localStorage.getItem(\"items\")) {\n      existState.items = JSON.parse(localStorage.getItem(\"items\"));\n    }\n\n    if (localStorage.getItem(\"totHours\")) {\n      existState.totHours = JSON.parse(localStorage.getItem(\"totHours\"));\n    }\n\n    dispatch({\n      type: \"SET\"\n    });\n  }, []);\n};\n\n_s(App, \"bezDjf5HtTbcS/j4Z5uRPjySEQE=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/mariab/my-app/src/App.js"],"names":["React","useReducer","useEffect","updateLS","items","hours","localStorage","setItem","JSON","stringify","reducer","state","action","type","totHours","item","newItem","newHours","parseInt","time_spent","indexRemove","indexOf","newArrayItems","slice","length","initilizerState","App","dispatch","existState","getItem","parse"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect } from \"react\";\nimport './App.css';\n\nconst updateLS = (items, hours) => {\n  localStorage.setItem(\"item\", JSON.stringify(items));\n  localStorage.setItem(\"hours\", JSON.stringify(hours));\n};\n\nconst reducer = (state, action) => {\n  switch(action.type){\n    case \"SET\":{\n      return {...state, ...action.state};\n    }\n    case \"ADD\":{\n      const { items, totHours } = { ...state };\n      const { item } = action;\n      const newItem = [...items, item];\n      const newHours = totHours+ parseInt(item.time_spent);\n\n      updateLS(newItem, newHours);\n\n      return{\n        ...state,\n        items: newItem,\n        totHours: newHours,\n      };\n    }\n\n    case \"DELETE\":{\n      const { items, totHours } = { ...state };\n      const { item } = action;\n      const indexRemove = items.indexOf(item);\n\n      const newArrayItems = [\n        ...items.slice(0, indexRemove),\n        ...item.slice(indexRemove+1, items.length)\n      ];\n\n      const newHours = totHours - item.time_spent;\n\n      updateLS(newItem, newHours);\n\n      return{\n        ...state,\n        items: newArrayItems,\n        totHours: newHours\n      };\n    }\n    \n    default:{\n      return state;\n    }\n  }\n}\n\nconst initilizerState = { item: [], totHours: 0};\n\nconst App = () => {\n  const [state, dispatch] = useReducer(reducer, initilizerState);\n  \n  useEffect(() => {\n    let existState = {};\n\n    if(localStorage.getItem(\"items\")){\n      existState.items = JSON.parse(localStorage.getItem(\"items\"));\n    }\n\n    if(localStorage.getItem(\"totHours\")){\n      existState.totHours = JSON.parse(localStorage.getItem(\"totHours\"));\n    }\n\n    dispatch({ type: \"SET\"})\n  }, []);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}